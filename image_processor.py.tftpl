import logging
import boto3

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def handler(event, context):
    e = event['Records'][0]['s3']
    source_image = {
        'Bucket': e['bucket']['name'],
        'Key': e['object']['key']
    }

    s3 = boto3.resource('s3')
    s3.meta.client.copy(source_image, '${target_bucket}', source_image['Key'])

    return {
        'bucket': '${target_bucket}',
        'key' : source_image['Key']
    }
